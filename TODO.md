## TODO

- [X] 帧导出与优化（已单独成包，参见：[PAIlib](https://github.com/PAICookers/PAIlib)）
- [X] 神经元目的地突触寻找对齐地址算法（待验证）
- [X] 多精度权重支持（待验证）
- [X] 运行时交换文件格式约定与导出
- [X] `tick_wait_start` 与 `tick_wait_end` 前/后端支持
- [X] 网络节点间自定义延迟( `tick_relative` )前后端支持
- [ ] 网络节点间自定义延迟( `tick_relative` )尝试ringbuffer优化
- [ ] 神经元计算模型随机性仿真（考虑与硬件的实现相接近的程度）
- [ ] 多层次结构中（容器、嵌套）网络组件的发现、数据流验证与后端解析
- [ ] 混合精度权重支持
- [X] 神经元密集分配策略（待验证）
- [ ] 带有约束的路由坐标分配
- [ ] ANN模式前/后端支持
- [ ] *网络拓扑环结构支持
- [ ] *卷积算子（全展开）前后端支持
- [ ] *卷积算子（半折叠）前后端支持

## 详情

1. 神经元目的地突触寻找对齐地址算法：聚焦 `aligned_coords` 前后所涉及的寻找神经元的目的地突触地址算法。
2. 多精度权重支持的验证：聚集 `CorePlcement` 内 `_fold_raw_weights` 前后所涉及的权重拆分算法，需要经过充分验证。
3. 与运行时交换文件格式约定。后端需要生成如下三项信息：

   1. 配置帧：网络模型的静态映射
   2. 输入节点信息：运行时将使用该信息，从而将输入数据编码，并送入网络第一层
   3. 输出节点信息：运行时将使用该信息，从而将收集的网络输出层信息按**顺序**解码

   配置帧信息将导出为 `.npy` 或 `.bin` 文件。而后二者预期导出为 `json` 文件。其信息获取的逻辑与配置帧有所区别，因此需要优化后端相关代码。
4. `tick_wait_start` 与 `tick_wait_end` 前/后端支持。前端已支持网络模型指定 `tick_wait_start` 与 `tick_wait_end`，从而实现符合SpikingJelly运行范式的数据流构建与仿真。后端需要以该两项为额外约束，拓展支持带有该约束的分组算法。
5. 网络节点间自定义延迟前后端支持。前端需要为神经元组添加该参数，同时这将影响数据流的行为。后端上，同步更改实现。（似乎不会对后端造成多少困难）
6. 混合精度权重支持。在第3点功能的实现上，对于网络中存在不同精度的突触情况，需要在后端实现对不同精度突触分组的处理。预期提供一个编译选项：

   - 当开启时，当不同精度突触被分在同一组时，将按照最大精度权重进行，当分在不同组时，按各自权重处理
   - 当关闭时，不同精度突触将**不被分在同一组**
7. 神经元密集分配策略。目前默认采用按类别对多神经组进行划分。在第2点的基础上，验证密集分配策略及后续相关算法。
8. 带有约束的路由坐标分配。一种情境：由于芯片硬件限制，当网络部署在芯片外圈，其工作频率高于芯片中心位置。由此需要路由分配时附加**一定的约束条件**与**最优化目标**，从而大改路由相关算法。在此之后，如果代码修改得好，则后续可以实施不同的路由约束条件。
9. ANN模式前/后端支持。目前仅支持芯片的SNN模式。要想支持ANN模式，前端上需要添加ANN模式的算理，同时，ANN/SNN模式是物理核的行为，因此当网络拓扑中同时存在两种模式的神经元时，需要以此为约束条件，从而影响分组结果（类似第6点。例如，同为ANN模式下的不同神经元可被分在同一组）
